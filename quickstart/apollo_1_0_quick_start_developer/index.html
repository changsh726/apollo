<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Apollo 1.0 Quick Start Guide for Developers - Apollo Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Apollo Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../quick_start.md" class="nav-link">Get Started</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Cyber RT <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../cyber/" class="dropdown-item">Introduction to Cyber RT</a>
</li>
                                    
<li>
    <a href="../../cyber/cyber_rt_quick_start.md" class="dropdown-item">Cyber RT Quick Start</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../FAQs/" class="nav-link">FAQs</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/ApolloAuto/apollo/edit/master/docs/quickstart/apollo_1_0_quick_start_developer.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#apollo-10-quick-start-guide-for-developers" class="nav-link">Apollo 1.0 Quick Start Guide for Developers</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#contents" class="nav-link">Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#about-this-guide" class="nav-link">About This Guide</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#document-conventions" class="nav-link">Document Conventions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#introduction" class="nav-link">Introduction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#build-the-apollo-kernel" class="nav-link">Build the Apollo Kernel</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#use-pre-built-apollo-kernel" class="nav-link">Use pre-built Apollo Kernel.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#build-your-own-kernel" class="nav-link">Build your own kernel.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#access-the-apollo-dev-container" class="nav-link">Access the Apollo Dev Container</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#build-the-apollo-ros" class="nav-link">Build the Apollo ROS</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#build-apollo" class="nav-link">Build Apollo</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#release" class="nav-link">Release</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="apollo-10-quick-start-guide-for-developers">Apollo 1.0 Quick Start Guide for Developers</h1>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#about-this-guide">About This Guide</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#build-the-apollo-kernel">Build the Apollo Kernel</a></li>
<li><a href="#access-the-apollo-dev-container">Access the Apollo Dev Container</a></li>
<li><a href="#build-the-apollo-ros">Build the Apollo ROS</a></li>
<li><a href="#build-apollo">Build Apollo</a></li>
<li><a href="#release">Release</a></li>
</ul>
<h1 id="about-this-guide">About This Guide</h1>
<p><em>The Apollo 1.0 Quick Start for Developers</em> provides the basic instructions to all Developers who want to build the Apollo Kernel, the Robot Operating System (ROS), and Apollo.</p>
<h2 id="document-conventions">Document Conventions</h2>
<p>The following table lists the conventions that are used in this document:</p>
<table>
<thead>
<tr>
<th><strong>Icon</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Bold</strong></td>
<td>Emphasis</td>
</tr>
<tr>
<td><code>Mono-space font</code></td>
<td>Code, typed data</td>
</tr>
<tr>
<td><em>Italic</em></td>
<td>Titles of documents, sections, and headingsTerms used</td>
</tr>
<tr>
<td><img alt="info" src="../images/info_icon.png" /></td>
<td><strong>Info</strong>  Contains information that might be useful.  Ignoring the Info icon has no negative consequences.</td>
</tr>
<tr>
<td><img alt="tip" src="../images/tip_icon.png" /></td>
<td><strong>Tip</strong>. Includes helpful hints or a shortcut that might assist you in completing a task.</td>
</tr>
<tr>
<td><img alt="online" src="../images/online_icon.png" /></td>
<td><strong>Online</strong>. Provides a link to a particular web site where you can get more information.</td>
</tr>
<tr>
<td><img alt="warning" src="../images/warning_icon.png" /></td>
<td><strong>Warning</strong>. Contains information that must <strong>not</strong> be ignored or you risk failure when you perform a certain task or step.</td>
</tr>
</tbody>
</table>
<h1 id="introduction">Introduction</h1>
<p>It is assumed that you have read and performed the instructions in the companion guide, the <em>Apollo 1.0 Quick Start Guide</em>, to set up the basic environment. Use this guide to build your own version of the Apollo Kernel, the ROS, and Apollo. There are also instructions on how to release your own Apollo container to others who might want to build on what you have developed.  It is strongly recommended that you build all of the components (Apollo Kernel, ROS, and Apollo) in the Apollo pre-specified dev Docker container.</p>
<h1 id="build-the-apollo-kernel">Build the Apollo Kernel</h1>
<p>The Apollo runtime in the vehicle requires the <a href="https://github.com/ApolloAuto/apollo-kernel">Apollo Kernel</a>. You are strongly recommended to install the pre-built kernel.</p>
<h2 id="use-pre-built-apollo-kernel">Use pre-built Apollo Kernel.</h2>
<p>You get access and install the pre-built kernel with the following commands.</p>
<ol>
<li>Download the release packages from the release section on github</li>
</ol>
<pre><code>https://github.com/ApolloAuto/apollo-kernel/releases
</code></pre>

<ol>
<li>Install the kernel
After having the release package downloaded:</li>
</ol>
<pre><code>tar zxvf linux-4.4.32-apollo-1.0.0.tar.gz
cd install
sudo ./install_kernel.sh
</code></pre>

<ol>
<li>Reboot your system by the <code>reboot</code> command</li>
<li>Build the ESD CAN driver source code
Now you need to build the ESD CAN driver source code according to <a href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md">ESDCAN-README.md</a></li>
</ol>
<h2 id="build-your-own-kernel">Build your own kernel.</h2>
<p>If have modified the kernel, or the pre-built kernel is not the best for your platform, you can build your own kernel with the following steps.</p>
<ol>
<li>Clone the code from repository</li>
</ol>
<pre><code>git clone https://github.com/ApolloAuto/apollo-kernel.git
cd apollo-kernel
</code></pre>

<ol>
<li>
<p>Build the ESD CAN driver source code according to <a href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md">ESDCAN-README.md</a></p>
</li>
<li>
<p>Build the kernel with the following command.</p>
</li>
</ol>
<pre><code>bash build.sh
</code></pre>

<ol>
<li>Install the kernel the same way as using a pre-built Apollo Kernel.</li>
</ol>
<h1 id="access-the-apollo-dev-container">Access the Apollo Dev Container</h1>
<ol>
<li>Please follow the <a href="https://github.com/ApolloAuto/apollo/blob/master/docs/quickstart/apollo_1_0_quick_start.md">Quick Start Guide</a> to clone the Apollo source code.</li>
</ol>
<p><img alt="tip" src="../images/tip_icon.png" /> In the following sections, it is assumed that the Apollo directory is located in  <code>$APOLLO_HOME</code>.</p>
<ol>
<li>Apollo provides a build environment Docker image: <code>dev-latest</code>.  Run the following command to start a container with the build image:</li>
</ol>
<pre><code>cd $APOLLO_HOME
bash docker/scripts/dev_start.sh
</code></pre>

<ol>
<li>Run the following command to log into the container:</li>
</ol>
<pre><code>bash docker/scripts/dev_into.sh
</code></pre>

<p>In the container, the default directory lives in <code>/apollo</code> , which contains the mounted source code repo.</p>
<h1 id="build-the-apollo-ros">Build the Apollo ROS</h1>
<p>Check out Apollo ROS from <a href="https://github.com/ApolloAuto/apollo-platform">github source</a>:</p>
<pre><code class="bash">git clone https://github.com/ApolloAuto/apollo-platform.git apollo-platform
cd apollo-platform/ros
bash build.sh build
</code></pre>

<h1 id="build-apollo">Build Apollo</h1>
<p>Before your proceed to build, please obtain ESD CAN library according to instructions in <a href="https://github.com/ApolloAuto/apollo/blob/master/third_party/can_card_library/esd_can/README.md">ESD CAN README</a>.</p>
<p>Run the following command:</p>
<pre><code class="bash">cd $APOLLO_HOME
bash apollo.sh build
</code></pre>

<h1 id="release">Release</h1>
<p>Apollo uses Docker images to release packages. <strong>For advanced developers</strong>: you can generate a new Docker image to test in an actual vehicle. Apollo has set up a base Docker image environment to test the Apollo build.</p>
<p>The image is called: <code>run-env-latest</code>.</p>
<ol>
<li>Run the following command:</li>
</ol>
<pre><code>bash apollo.sh release
</code></pre>

<p>The release command generates a release directory, which contains:</p>
<ul>
<li>ROS environment</li>
<li>Running scripts</li>
<li>Binaries</li>
<li>
<p>Dependent shared libraries (<code>.so</code> files)</p>
</li>
<li>
<p>Open a new terminal and run the following command in an Apollo source directory outside of Docker:</p>
</li>
</ul>
<pre><code>cd $APOLLO_HOME
bash apollo_docker.sh gen
</code></pre>

<p>The command creates a new Docker image using the release directory.</p>
<p>The release image tag will be named:<code>release-yyyymmdd_hhmm</code>. The existing release image tag, <code>release-latest</code>, is always pointing to the most current release.</p>
<ol>
<li>Push your release image online using your own Docker registry set up from outside of the container:</li>
</ol>
<pre><code>cd $APOLLO_HOME
bash apollo_docker.sh push
</code></pre>

<p>The command pushes the newly built Docker image to the release Docker registry. To set up a new Docker registry, see <a href="https://docs.docker.com/registry">this page</a>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
