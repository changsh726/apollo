<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>How to Develop Cyber RT inside Docker Environment on Both x86 and ARM Platform - Apollo Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Apollo Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../quick_start.md" class="nav-link">Get Started</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Cyber RT <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">Introduction to Cyber RT</a>
</li>
                                    
<li>
    <a href="../cyber_rt_quick_start.md" class="dropdown-item">Cyber RT Quick Start</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../FAQs/" class="nav-link">FAQs</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/ApolloAuto/apollo/edit/master/docs/cyber/CyberRT_Docker.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#how-to-develop-cyber-rt-inside-docker-environment-on-both-x86-and-arm-platform" class="nav-link">How to Develop Cyber RT inside Docker Environment on Both x86 and ARM Platform</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#build-and-test-with-cyber-rt-in-docker" class="nav-link">Build and Test with Cyber RT in Docker</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#build-cyber-rt-docker-image" class="nav-link">Build Cyber RT Docker Image</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="how-to-develop-cyber-rt-inside-docker-environment-on-both-x86-and-arm-platform">How to Develop Cyber RT inside Docker Environment on Both x86 and ARM Platform</h1>
<p>To make life easier, Apollo Cyber RT has released a docker image and a number of scripts to help developers to build and play with Cyber RT.</p>
<p>The official Cyber RT docker image is built based on Ubuntu 18.04. It comes with the full support for building Cyber RT and the drivers on top of it. So if you are interested in Cyber RT only, that would be the ideal point to start with.</p>
<p><strong>Note: ARM platform support has added recently fully integrated with Apollo development environment. You will be able to develop Cyber RT on both x86 and ARM platform with the same set of scripts. However, since ARM platform has only been verified on Nvidia Drive PX, so if you are trying on some dev board other than Drive PX. Please let us know if you run into any issues</strong></p>
<p>The following sections will show to how to start and play with Cyber RT docker and also how to build your own docker image from scratch.</p>
<h2 id="build-and-test-with-cyber-rt-in-docker">Build and Test with Cyber RT in Docker</h2>
<p>To start the official Cyber RT docker, you need to run the command below first:</p>
<p><strong>Note</strong>: Running this command for the first time could take a while because you will be downloading the full docker image, depending on your network bandwidth.</p>
<p><strong>Note</strong>:  You will lose all your previous changes in the docker if you have ran this command before. Unless you would like to start a fresh docker environment.</p>
<pre><code class="bash">./docker/scripts/cyber_start.sh
</code></pre>

<p>To enter the docker you just started:</p>
<p><strong>Note</strong>: you can enter and exit multiple times whenever you like, the docker environment will stay there until the next time you start the docker again.</p>
<pre><code class="bash">./docker/scripts/cyber_into.sh
</code></pre>

<p>To build Cyber RT only and test it:</p>
<pre><code class="bash">./apollo.sh build_cyber
bazel test cyber/...
</code></pre>

<p>You should be able to see all the tests passed before developing your project.</p>
<p>To build drivers on Cyber RT only:</p>
<pre><code class="bash">./apollo.sh build_drivers
</code></pre>

<p><strong>Note: start of instructions for ARM platform only</strong></p>
<p>Due to some limitation of docker on Drive PX platform, you need to follow the steps below on top of the procedure above.</p>
<p>For the first time after running cyber_into.sh to get into the Cyber RT container, please run the following two commands:</p>
<pre><code class="bash">/apollo/scripts/docker_adduser.sh
su nvidia
</code></pre>

<p><strong>To exit, please use <code>ctrl+p ctrl+q</code> instead of <code>exit</code></strong>. Otherwise, you will lose your current running container.</p>
<p><strong>Note: end instructions for ARM platform only</strong></p>
<h2 id="build-cyber-rt-docker-image">Build Cyber RT Docker Image</h2>
<p>To build your owner docker image for Cyber RT, please run the following commands on x86 platform:</p>
<pre><code class="bash">cd docker/build/
./build_cyber.sh cyber.x86_64.dockerfile
</code></pre>

<p>For ARM platform,</p>
<pre><code class="bash">cd docker/build/
./build_cyber.sh cyber.aarch64.dockerfile
</code></pre>

<p>To save you some time due to the performance on ARM platform, you can add the following option to download some prebuilt packages.</p>
<pre><code class="bash">cd docker/build/
./build_cyber.sh cyber.aarch64.dockerfile download
</code></pre>

<p>If you would like to save your docker image for long term, use the following commands
as example to save it in your own docker registry, please use "docker images" to find the name of your own image.</p>
<pre><code class="bash">docker push [YOUR_OWN_DOCKER_REGISTRY]:cyber-x86_64-18.04-20190531_1115
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
